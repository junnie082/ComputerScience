# Socket

## [[소켓과 웹소켓 (1)] 소켓이란?, 소켓 API의 실행 흐름, 클라이언트 소켓과 서버 소켓](https://velog.io/@rhdmstj17/%EC%86%8C%EC%BC%93%EA%B3%BC-%EC%9B%B9%EC%86%8C%EC%BC%93-%ED%95%9C-%EB%B2%88%EC%97%90-%EC%A0%95%EB%A6%AC-1)

#### 2024.05.28.(화)

## Socket

### 소켓의 등장

네트워크 위에서 프로그램이 동작하기 쉽게 하기 위해서 우리는 OSI 7계층을 나누어 네트워크를 관리함

(-) 계층만 나누는 걸로는 한계가 있음. 계층별 각 프로토콜은 일종의 통신 규약일뿐, 프로토콜 구현을 위해 안에 들어갈 구체적인 구현부인 함수가 필요함.

(+) 소켓에서 이러한 함수들의 body를 제공함 -> **_별도의 구현없이 소켓_**을 사용할 수 있음
즉, 프로토콜의 세부적인 명세를 일일이 정의할 필요없이 소켓을 활용하면 됨.

### 소켓이란?

프로그램이 네트워크에서 데이터를 주고 받을 수 있도록 네트워크 환경에 연결할 수 있게 만들어진 연결부.

일반적으로 TCP/IP 프로토콜을 이용함.

- TCP/IP 4계층에서 전송 계층 위에 놓임
- 전송 계층 위에서 전송계층의 프로토콜 제어를 위한 코드를 제공
- 즉, 소켓은 엔드포인트다. 통신의 양끝단!

### 소켓이 하는 일

1. 소프트웨어와 소프트웨어를 연결

- 연결 어떻게? IP와 서비스 포트를 통해 찾음

2. 소프트웨어 간 데이터 통신

- 인터넷에서 소켓을 찾아 **_연결_**하고 **_데이터를 송수신_**한다!

## Socket Programming

프로세스 간 통신에 사용되는 Socket을 이용한 통신 프로그래밍을 socket programming이라고 한다.

Client Socket과 Server Socket으로 구분되는데
통신 연결 요청을 받아들이는 Socket을 **_Server Socket_**,
통신 연결 요청을 보내는 Socket을 **_Client Socket_**이라고 한다.
동일한 구조의 Socket이지만, 역할에 따라 처리되는 흐름이 조금씩 다른 것 뿐이다.

## 소켓 API 실행 흐름 (Client, Server)

CLIENT SOCKET

1. socket() -> connect() -> send()/recv() -> close()
2. socket() -> bind() -> listen() -> accept() -> send()/recv() -> close()

- 클라이언트

  - 소켓 생성, 연결 요청, 데이터 송수신, 소켓 닫기

- 서버

  - 소켓 생성, 결합, 주시, 받아들이기, 데이터 송수신, 소켓 닫기
