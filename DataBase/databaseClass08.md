# Database Class 08

## 데이터웨어하우스와 데이터베이스 응용

#### 2023.12.06.(수)

### 1. 데이터웨어하우스 개념

- 데이터웨어하우스의 출현 배경
  - 정보의 위기(information crisis)
    - 저장된 방대한 양에 비해 실제 의사 결정에 활용할 수 있는 정보는 매우 제한적임
    - '풍요속의 빈곤'처럼 데이터는 넘쳐나는데 정작 필요한 정보는 얻을 수 없음
    - 예) 거미줄(spider web) 구조

![database36](/assets/images/2023-12-06/database36.jpeg)

### 정보 시스템의 문제점

- 기존 정보 시스템이 의사 결정에 도움을 주지 못하는 구조적인 문제점

![database37](/assets/images/2023-12-06/database37.jpeg)

### 데이터웨어하우스의 등장

- 데이터베이스

  - 즉각적인 업무 처리를 위한 OLTP(On-Line Transaction Processing) 환경에 적합
  - 신속한 데이터 처리에 비해 상대적으로 데이터 분석은 느리고 많은 제한을 가짐

- 해결 방안: 업무용 데이터와 분석용 데이터의 저장소를 분리
  - 데이터베이스 - 업무 트랜잭션 처리를 위한 운영 저장소로 사용
  - 분석을 위한 새로운 저장소를 구축 => 데이터웨어하우스

![database38](/assets/images/2023-12-06/database38.jpeg)

### 1.2 데이터웨어하우스의 정의 및 특성

- 데이터웨어하우스(data warehouse) 정의

  - 의사결정을 위한 효율적인 분석 기반을 제공하는 통합 데이터 저장소
  - 이질적인 데이터들의 추출, 변환, 통합 과정을 통해 구축된 거대한 분석전용 데이터 창고

- 데이터웨어하우스의 특성
  1. 주제 지향성(subject-oriented)
  - 분석 프로그램 중심의 데이터 구조
  - 분석 주제 중심으로 구성, 주제별로 요약
  - 대학의 예) 학생별, 교수별, 과목별로 다양한 분석 가능

![database39](/assets/images/2023-12-06/database39.jpeg)

### 데이터웨어하우스의 특성

2. 통합성(integrated)

- 데이터베이스뿐만 아니라 외부 문서(웹 문서, 엑셀 문서, 텍스트 문서 등) 간의 통합을 고려해야
- 분석을 위해서는 하나의 통일된 형식으로 변환이 필요
- 통합 과정에서 데이터 유형과 측정 단위, 데이터의 불일치 문제 등을 해결
- 데이터웨어하우스의 핵심이 되는 가장 중요한 특성으로 많은 시간과 노력이 필요함

![database40](/assets/images/2023-12-06/database40.jpeg)

3. 시계열성(time-variant)

- 데이터베이스 - 주로 현 시점까지의 업무 결과를 반영
- 분석 과정 - 과거부터 현재까지 여러 시점의 데이터가 모두 의미가 있음
- 추이 분석을 위해서는 각 시점에서의 데이터 버전 즉, 스냅샷(snapshot)을 저장하는 것이 중요함
- 데이터웨어하우스 - 스냅샷 데이터들이 축적되는 대규모 저장소
- 시간 흐름에 따라 원시 데이터 혹은 요약 데이터 형태로 다양하게 중복 저장

![database41](/assets/images/2023-12-06/database41.jpeg)

4. 비휘발성(nonvolatile)

- 데이터웨어하우스 - 수정이나 삭제가 거의 없는 일종의 검색 전용 데이터베이스
- 데이터가 일단 저장되면 검색이나 추가적 적재만 발생, 갱신과 삭제는 거의 발생하지 않음

![database42](/assets/images/2023-12-06/database42.jpeg)

### 데이터베이스와 데이터웨어하우스의 비교

- 데이터웨어하우스: 의사 결정에 필요한 올바른 정보(right information)를 올바른 형식(right form)으로 적시(right time)에 제공하기 위한 저장소
- 데이터베이스와 데이터웨어하우스의 차이점

|    특성     |          데이터베이스          |            데이터웨어하우스            |
| :---------: | :----------------------------: | :------------------------------------: |
|    목적     |    정보 운영(트랜잭션처리)     |        정보 분석(의사결정지원)         |
|   사용자    | 고객지향적(실무자, 하위관리자) | 시장지향적(상위관리자, 경영자, 분석가) |
|  구조 설계  | ER 모델링 업무, 업무 중심 설계 |      차원 모델링, 주제 중심 설계       |
|    대상     |       현재 데이터(동적)        |         최근/과거데이터(정적)          |
|    접근     |      읽기/쓰기(수정가능)       |     읽기 전용(수정불가, 비휘발성)      |
|    관점     |          상세, 평면적          |             요약, 다차원적             |
| 처리 튜플수 |            수백 건             |               수백만 건                |
|  사용자수   |            수천 명             |                수백 명                 |
|  응답시간   |            초 단위             |                분 단위                 |
|    용량     |        메가/기가 바이트        |            기가/테라 바이트            |
|  갱신주기   |          지속적 갱신           |              주기적 갱신               |
|    처리     |         OLTP(운영환경)         |             OLAP(분석환경)             |

### 1.3 데이터웨어하우스 시스템

- 데이터웨어하우스 시스템의 구조: 3-계층 구조(3-tier architecture)

![database43](/assets/images/2023-12-06/database43.jpeg)

### 데이터웨어하우스 구축 방식

- 상향식

  - 소규모의 데이터 마트(data mart)들을 순차적으로 먼저 구축한 후 나중에 이를 통합하여 전사적 데이터웨어하우스(enterprise data warehouse)를 완성하는 방식

- 하향식

  - 먼저 전사적 데이터웨어하우스를 구축한 뒤, 필요할 경우 순차적으로 데이터 마트를 하나씩 추가하여 전체 시스템을 완성하는 방식

- 절충식
  - 기획과 설계는 하향식 구축 방식으로 하고 실제 구축은 상향식 구축 방식처럼 가장 우선시 되는 중요한 분야부터 진행하는 방법
  - 전사적 관점에서 하나의 전체 데이터웨어하우스를 슈퍼 마트(super mart)라고 하는 핵심 저장 단위들로 분할하여 설계한 후, 각 슈퍼 마트들을 우선순위에 따라 독자적으로 구축해감으로써 최종적으로 전사적 데이터웨어하우스를 완성해 가는 방식
  - 데이터 마트(data mart)
    - 조직의 일부 사용자만 사용할 목적으로 주제 범위를 제한하여 구축한 데이터 저장소
    - 데이터웨어하우스의 부분 집합으로 규모가 작아 '미니 데이터웨어하우스'로 불림
    - 분석 대상이 특정 주제로 집중되기 때문에 부서 단위의 분석 업무에 적합

### 2. 데이터웨어하우스 설계

- 다차원성

  - 다차원적인 분석을 위해서 데이터웨어하우스는 다차원 구조로 구성
  - 다차원 구조는 각 분석 관점 간의 다양한 조합에 의해 데이터에 대한 상호 연관성 분석이 가능하도록 함

- 다차원 모델링(multi-dimensional modeling)
  - 높은 연관성을 갖는 데이터들을 데이터웨어하우스 안에서 다차원성을 유지하도록 구조화하는 것
  - 데이터웨어하우스는 데이터베이스와는 다르게 개체와 관계가 아닌 차원 중심으로 모델링
  - 다차원 모델링 방법
    - 다차원 데이터베이스: 데이터 큐브(data cube) 개념을 이용
    - 관계형 데이터베이스: 스타 스키마(star schema 개념을 이용

### 다차원 데이터베이스

- 다차원 데이터베이스 (MDB; Multi-Dimensional Database)
  - 관계형 데이터베이스의 한계점을 극복하기 위해 개발된 분석 전용 데이터베이스
  - 다차원 큐브 구조로 모델링 -> 저장소 구조 자체가 다차원 분석에 적합하도록 생성되기 때문에 복잡한 모델링이 필요 없음

### 다차원 질의(multi-dimensional query)

- 다차원 데이터베이스의 어느 영역을 분석하고자 하는지를 명세

  - 큐브를 자신이 원하는 모양으로 절단하여 살펴보는 것
  - 슬라이싱(slicing): 큐브의 일부분을 둘로 쪼개어 자신이 원하는 큐브 단면을 분석하는 것
  - 다이싱(dicing): 큐브 중에서 보고자 하는 부분만을 선별함으로써 작은 부분 큐브 형태의 영역을 분석하는 것
  - 피보팅(pivoting): 큐브의 축 위치를 바꾸어 같은 분석 결과

- 다차원 질의의 기본 유형

![database44](/assets/images/2023-12-06/database44.jpeg)

### 다차원 모델

1. 데이터 큐브(data cube)

- 다차원 모델의 기본 구조, 보통 2차원 면들로 조합된 다면체 도형으로 표현
- 차원(dimension): 데이터 큐브의 각 축
- 차원 멤버(dimension member): 축 좌표
- 축 좌표들의 조합으로 큐브 안의 특정 셀(cell)을 지정하고 큐브 셀 안에는 하나의 측정값(measure)이 저장됨
- 데이터 큐브는 n개의 차원성을 갖는 데이터들을 n-차원의 큐브 구조로 모델링
- N차원 큐브의 예

![database45](/assets/images/2023-12-06/database45.jpeg)

2. 차원(dimension)

- 데이터에 대한 하나의 분석 관점 또는 분석 시각을 표현
- 분석 관점이 다양하고 데이터 간의 상호 연관성이 높을수록 차원의 개수는 증가
- 각 차원은 하나의 축으로 표현되기 때문에 차원의 개수에 따라 큐브의 구조가 결정
- 같은 축을 구성하는 차원 멤버들은 유사한 일련의 항목들이거나 유사하지만 수준이 다른 항목들임

3. 개념 계층(concept hierarchy)

- 같은 차원 안의 수준들 간의 수직적 상하 관계
- 상위 수준의 개념으로부터 하위 수준의 개념으로 차원 멤버들을 계층적으로 조직화

![database46](/assets/images/2023-12-06/database46.jpeg)
